/*------------------------------------*\
    $BLOCKS
\*------------------------------------*/


/*--------------------*\
	Placeholders
\*--------------------*/
%block {
	margin: 0 auto 2em;
	max-width: $w-main-max;
	overflow: hidden;
	position: relative;

	.block--inner {}

	.block-link {
		display: block;
	}

	.block-image {
		margin: 0 auto $space auto;
		img {
			display: block;
		}
	}

	.block-text {}
}


/*--------------------*\
	Modules
\*--------------------*/
.block {
	@extend %block;
}


/*--------------------*\
	Submodules
\*--------------------*/
.block_padded {
	padding: $pad;
}

.block_thumb {
	width: 100%;

	.block-inner {
		@include bp-min(m) {
			align-items: stretch;

			@include flexbox;
		}
	}

	.block-image {
		@include bp-max(m) {
			width: 100%;

			img {
				margin: 0 auto;
			}
		}

		@include bp-min(m) {
			margin-bottom: 0;
			padding-left: $pad;
			@include flex(1 0 35%);
			@include order(2);
		}
	}

	.block-text {
		@include bp-min(m) {
			@include flex(1 0 65%);
			@include order(1);
		}		
	}
}

/* Special Uses */
.block_listing {
	border: 1px solid $gray;

	&:after {
		bottom: 0;
		content: "";
    	height: 2.5em;
    	left: 0;
    	line-height: 2.5em;
    	position: absolute;
    	width: 100%;

		@include background-image(linear-gradient(bottom, color-stops(tint($blue-secondary, 50%) 50%, rgba($white, 0) 50%) ));

		@include box-sizing(border-box);
	}

	// Components
	.block-link {
		cursor: pointer;
		color: $gray;
		min-height: 20em;
		padding: $pad $pad ($pad*2.5) $pad;

		&:hover{
			background-color: tint($blue-secondary, 90%);
		}
	}

	.level-1 {
		font-size: 1.25em;
	}

	// States
	&.is-open {
		&:after {
			@include background-image(linear-gradient(top, color-stops(tint($blue-secondary, 50%) 50%, $white 50%) ));
		}
	}
}

.block_listing.person {
	.block-link {
		min-height: 32em;
	}

	.block-image {
		margin: 0 auto 1em;
		max-height: 10rem;
		max-width: 15rem;
		overflow: hidden;

		img {
			height: auto;
			margin-top: -2.5rem;
		}
	}

	@media screen and (min-width: $bp-s) and (max-width: $bp-m - 1px) {
		.block-link {
			min-height: 0;

			@include flexbox;
		}

		.block-image {
			max-height: none;

			@include flex(1 0 35%);
			@include order(2);

			img {
				margin-top: 0;
			}
		}
		.block-text {
			@include flex(1 0 65%);
			@include order(1);
		}
	}
}












/* Generic Placeholder Brick: REMOVE FOR PRODUCTION */
.brick {
	background: #dcdddc;
	padding: $pad-double;
	text-align: center;
	font-weight: bold;
	border-bottom: 1px solid $gray-light-2;
}


.headline {
	line-height: 1.2;
}

/* Hero Block */
.block-hero {
	margin-bottom: $space-half;

	.b-thumb {
		img {
			display: block;
		}
	}

	@media all and (min-width: $bp-large) {
		position: relative;

		.b-text {
			position: absolute;
			bottom: 0;
			left: 0;
			width: 100%;
			background: $dim;
			color: $white;
			padding: $pad-and-half;
		}
	}
}

/* Block Thumbnail with Headline */
.block-thumb {
	display: table;
	width: 100%;
	border-collapse: collapse;

	.b-inner {
		display: table-row;
		vertical-align: top;
  		overflow: hidden;
	}

	.b-thumb {
		@media all and (min-width: $bp-small-2) {
			display: table-cell;
			vertical-align: top;	
	  		width: 30%;
	  		max-width: 10em;

	 		img {
	 			display: block;
				  width: 100%;
				  height: auto;
	 		}
 		}
	}

	.b-text {
		@media all and (min-width: $bp-small-2) {
			display: table-cell;
			width: 70%;
			padding: 0 $pad;
		}
	}
}


/* Block Headline Summary */
.block-headline-summary {
	a {
		display: block;
		padding: $pad-half;
	}
}

/* Block Inset */
.block-inset {
	position: relative;

	.b-thumb {
		position: relative;
		z-index: 0;

		img {
			display: block;
		}
	}
}

/* Hero Block */
.block-inset {
	margin-bottom: $space-half;
	position: relative;

	.headline {
		font-size: 1.1em;
	}

	.b-text {
		position: absolute;
		bottom: 0;
		left: 0;
		width: 100%;
		background: $dim;
		color: $white;
		padding: $pad-half;
	}
}

/* Block Thumb with Summary */
.block-thumb-summary {
	.b-thumb {
		float: left;
		width: 50%;
	}

	.b-text {
		margin-left: 50%;
		padding: $pad-half;
	}
}
